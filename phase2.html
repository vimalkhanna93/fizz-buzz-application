<html>
<body>
<form>
<h1> PHASE 2 <h1>
<h2> FizzBuzz Game window </h2>
Phone Number: <input type="text" id="phno_txtbox">
&nbsp Valid number format "XXXXXXXXXX"
<br>
<br>
<div style="visibility: hidden; color:#009933" id="success">
Watch for the phone call
</div>
<button id="submit_btnbox" onclick='callTwilio()'> Submit </button>
<br>
</form>

<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
function callTwilio(){
	event.preventDefault();
	var phNumber = document.getElementById('phno_txtbox').value;
        var phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
	var match = phNumber.match(phoneno);
	console.log("match length : "+ match);
	try {
		if(  match.length > 0  )
        	{
                var urlToCall = "http://ec2-52-26-223-129.us-west-2.compute.amazonaws.com:3000/number?numberToCall="+phNumber;
                $.get(urlToCall);
                document.getElementById('success').style.visibility="visible";
       		}
	}
        catch(err) {
                alert("Not a valid number");
        }
}

</script>
<p><a href="http://ec2-52-26-223-129.us-west-2.compute.amazonaws.com:3000/phase3?">Next -> Phase3</a><p>
</body>
</html>
